var x$;x$=angular.module("d3-module-picker",[]),x$.config(["$compileProvider"].concat(function(t){return t.aHrefSanitizationWhitelist(/^\s*blob:/)})),x$.directive("ngselect2",function(){return{require:[],restrict:"A",scope:{model:"=ngData",istag:"@istag"},link:function(t,n){var r,e;return r=function(){var r,e,o;return r=[t.model,$(n).val()],e=r[0],o=r[1],Array.isArray(e)?(r=[e,o].map(function(t){return(t||[]).join(",")}),e=r[0],o=r[1],e!==o):e!==o},e={},t.istag&&(e.tags=!0,e.tokenSeparators=[","," "]),$(n).select2(e),$(n).select2(e).on("change",function(){return r()?setTimeout(function(){return t.$apply(function(){return t.model=$(n).val()})},0):void 0}),t.$watch("model",function(t){var o,u,i,c,a;if(e.tags){for(o="",u=0,c=(i=t||[]).length;c>u;++u)a=i[u],o+=$("<option></option>").val(a).text(a)[0].outerHTML;$(n).html(o)}return r()?setTimeout(function(){return $(n).val(t).trigger("change")},0):void 0})}}}),x$.controller("d3-module-picker",["$scope","$http"].concat(function(t,n){return t.output={},t.urls=[],t.bundleURL="",t.$watch("modules",function(n){var r;if(n)return n=n.map(function(t){return t.split("/")}),r=t.urls=n.map(function(t){return"https://d3js.org/"+t[0]+".v"+t[1]+".js"}),t.output.html=r.map(function(t){return'<script src="'+t+'"></script>'}).join("\n"),t.output.jade=r.map(function(t){return'script(src="'+t+'")'}).join("\n"),t.output.npm="npm install "+n.map(function(t){return t[0]+"@"+t[1]}).join(" ")}),t.fetch=function(t){return new Promise(function(r,e){return n({url:t,method:"GET"}).success(function(t){return r(t)}).error(function(){return e()})})},t.loading=!1,t.makeBundle=function(){var n;return t.loading=!0,n=t.urls.map(function(n){return t.fetch(n)}),Promise.all(n).then(function(n){return t.$apply(function(){return t.bundleURL=URL.createObjectURL(new Blob([n.join("\n")],{type:"text/javascript"})),t.loading=!1})})}}));